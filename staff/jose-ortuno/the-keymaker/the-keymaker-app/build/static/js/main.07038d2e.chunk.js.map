{"version":3,"sources":["logic/is-user-logged-in/index.js","logic/get-location/index.js","logic/index.js","logic/register-user/index.js","logic/authenticate-user/index.js","logic/log-user-out/index.js","logic/retrieve-user/index.js","logic/retrieve-deployments/index.js","logic/retrieve-deployment/index.js","logic/register-deployment/index.js","logic/register-deployment-image/index.js","logic/register-key/index.js","logic/retrieve-keys/index.js","logic/retrieve-key/index.js","logic/use-key/index.js","logic/search-keys/index.js","logic/search-deployments/index.js","components/Register/index.js","components/Login/index.js","components/Search/index.js","components/DeploymentView/index.js","components/Deployments/index.js","components/DeploymentViewDetail/index.js","components/DeploymentDetail/index.js","components/DeploymentRegister/index.js","components/KeyView/index.js","components/KeysAll/index.js","components/KeyDetail/index.js","components/KeyRegister/index.js","components/KeysCalendar/index.js","components/Header/index.js","components/Home/index.js","components/AccessDeployment/index.js","components/App/index.js","serviceWorker.js","index.js"],"names":["isUserLogged","REACT_APP_API_KEY_GOOGLE_MAPS","process","token","sessionStorage","registerUser","alias","email","password","repassword","a","fetch","method","headers","body","JSON","stringify","response","status","json","error","Error","authenticateUser","validate","string","__token__","logUserOut","clear","retrieveUser","authorization","user","retrieveDeployments","deployments","retrieveDeployment","deploymentId","deployment","registerDeployment","address","longitude","latitude","name","value","Number","convert","_response","registerDeploymentImage","image","formData","FormData","append","message","registerKey","validFrom","validUntil","aliasGuest","emailGuest","retrieveKeys","keys","retrieveKey","keyId","key","useKey","searchKeys","query","searchDeployments","getLocation","result","getAddress","results","formatted_address","coordinates","geometry","location","onBack","onRegister","className","onSubmit","event","preventDefault","target","type","placeholder","class","href","onClick","onLogin","onSearch","createdAt","onDeployment","moment","created_at","format","random","number","id","src","logo","withRouter","history","useState","undefined","setDeployments","deploymentResults","setDeploymentResults","view","setView","useEffect","logic","length","deploymentsArr","sort","b","handleSearchQuery","console","push","Search","map","to","DeploymentView","setDeployment","go","DeploymentViewDetail","valueSelect","setValueSelect","data","setData","handleSubmit","files","lat","lng","handleRegisterDeployment","log","encType","required","onChange","element","onKey","valid_from","valid_until","alias_guest","email_guest","setKeys","keyResults","setKeyResults","keysArr","KeyView","setKey","onDate","getDate","setGetDate","getDate2","setGetDate2","getHour","setGetHour","getHour2","setGetHour2","diff","Date","handleRegisterKey","handleOnBack","validFromDate","validFromTime","validUntilDate","validUntilTime","add","onEvent","currentDate","setCurrentDate","monthKeys","setMonthKeys","filter","task","isSame","handleGoToRegisterKey","handleGoToRegisterDeployment","handleGoToNextMonth","handleGoToPreviousMonth","subtract","handleDayKeys","dataDate","keyDay","currentDay","dateFormat","stopPropagation","days","startDate","startOf","i","week","monthStart","monthEnd","endOf","endDate","rows","formattedDate","eventDate","first","day","data-day","goOnLogout","setUser","setEvent","handleEvent","dataset","exact","path","render","Deployments","props","DeploymentDetail","match","params","DeploymentRegister","KeysAll","KeyDetail","KeyRegister","KeysCalendar","setValidFrom","setValidUntil","handleUseKey","navigator","geolocation","getCurrentPosition","position","coords","handleBack","handleRegister","handleLogin","handleGoToRegister","handleGoToLogin","handleLogout","Register","Login","onLogout","Boolean","window","hostname","ReactDOM","document","getElementById","serviceWorker","ready","then","registration","unregister"],"mappings":"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","file":"static/js/main.07038d2e.chunk.js","sourcesContent":["function isUserLogged(){\n    return sessionStorage.token\n}\n\nexport default isUserLogged","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_KEY_GOOGLE_MAPS = process.env.REACT_APP_API_KEY_GOOGLE_MAPS\n\n\nexport default function async(address) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`https://maps.googleapis.com/maps/api/geocode/json?address=${address}&key=${REACT_APP_API_KEY_GOOGLE_MAPS}`, {\n            method: 'get'\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const result = await response.json()\n\n        const getAddress = result.results[0].formatted_address\n        const coordinates = result.results[0].geometry.location\n        return { getAddress, coordinates }\n    })()\n\n}","import registerUser from './register-user'\nimport authenticateUser from './authenticate-user'\nimport isUserLogged from './is-user-logged-in'\nimport logUserOut from './log-user-out'\nimport retrieveUser from './retrieve-user'\n\nimport retrieveDeployments from './retrieve-deployments'\nimport retrieveDeployment from './retrieve-deployment'\nimport registerDeployment from './register-deployment'\n\nimport registerDeploymentImage from './register-deployment-image'\nimport registerKey from './register-key'\n\nimport retrieveKeys from './retrieve-keys'\nimport retrieveKey from './retrieve-key'\n\nimport useKey from './use-key'\n\nimport searchKeys from './search-keys'\nimport searchDeployments from './search-deployments'\n\nimport getLocation from './get-location'\n\nexport default {\n    set __token__(token) {\n        sessionStorage.token = token\n    },\n\n    get __token__() {\n        return sessionStorage.token\n    },\n\n    registerUser,\n    authenticateUser,\n    isUserLogged,\n    logUserOut,\n    retrieveUser,\n    retrieveDeployments,\n    retrieveDeployment,\n    registerDeployment,\n    registerDeploymentImage,\n    registerKey,\n    retrieveKeys,\n    retrieveKey,\n    useKey,\n    searchKeys,\n    searchDeployments,\n    getLocation\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (alias, email, password, repassword) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/users`, {\n            method: 'post',\n            headers: { 'content-type': 'application/json' },\n            body: JSON.stringify({ alias, email, password, repassword })\n        })\n\n        if (response.status !== 201) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n    })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (email, password) {\n    validate.string(email, 'e-mail')\n    validate.email(email, 'e-mail')\n    validate.string(password, 'password')\n\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/auth`, {\n            method: 'post',\n            headers: { 'content-type': 'application/json' },\n            body: JSON.stringify({ email, password })\n        })\n\n        if (response.status === 200) {\n            const { token } = await response.json()\n\n            //return token\n            this.__token__ = token\n\n            return\n        }\n\n        const { error } = await response.json()\n\n        throw Error(error)\n    })()\n}","export default function () {\n    sessionStorage.clear()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function () {\n    // validate fields\n\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/users/`, {\n            method: 'get',\n            headers: {\n                authorization: `bearer ${this.__token__}`\n            }\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { user } = await response.json()\n\n        return user\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function () {\n    // validate fields\n\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/deployments`, {\n            method: 'get',\n            headers: {\n                authorization: `bearer ${this.__token__}`\n            }\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { deployments }  = await response.json()\n\n        return deployments\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (deploymentId) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/deployment/${deploymentId}`, {\n            method: 'get',\n            headers: {\n                authorization: `bearer ${this.__token__}`\n            }\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { deployment } = await response.json()\n\n        return deployment\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (alias, address, status, longitude, latitude) {\n\n    // validate fields\n    const convert = (name, value) => {\n        if (name === 'number') return Number(value)\n        if (name === 'boolean') {\n            if (value === 'true') return true\n            if (value === 'false') return false\n        }\n    }\n\n    status = convert('boolean', status)\n\n    return (async () => {\n\n        const response = await fetch(`${REACT_APP_API_URL}/deployment`, {\n            method: 'post',\n            headers: {\n                'content-type': 'application/json',\n                'authorization': `bearer ${this.__token__}`\n            },\n            body: JSON.stringify({ alias, address, status, longitude, latitude })\n        })\n\n        if (response.status !== 201) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n        const _response = await response.json()\n        return _response\n    })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (deploymentId, image) {\n    //TODO:  validate fields\n\n    var formData = new FormData();\n    formData.append('image', image);\n\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/users/deployment/${deploymentId}/upload`, {\n            method: 'post',\n            headers: {\n                'authorization': `bearer ${this.__token__}`\n            },\n            body: formData\n        })\n        \n        if (response.status !== 200) {\n            const { error } = await response.json()\n            throw new Error(error)\n        } \n        const { message } = await response.json()\n        \n        return message\n    })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (validFrom, validUntil, aliasGuest, emailGuest, deploymentId) {\n    debugger\n    validate.string(aliasGuest, 'alias guest')\n    validate.string(emailGuest, 'email guest')\n    validate.string(deploymentId, 'deployment id')\n\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/key`, {\n            method: 'post',\n            headers: {\n                'content-type': 'application/json', \n                'authorization': `bearer ${this.__token__}`\n            },\n            body: JSON.stringify({ validFrom, validUntil, aliasGuest, emailGuest, deploymentId })\n        })\n\n        if (response.status !== 201) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n        const _response = await response.json()\n        return _response\n    })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function () {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/keys`, {\n            method: 'get',\n            headers: {\n                authorization: `bearer ${this.__token__}`\n            }\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { keys }  = await response.json()\n\n        return keys\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (keyId) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/key/${keyId}`, {\n            method: 'get'\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { key }  = await response.json()\n\n        return key\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (keyId, longitude, latitude) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/key/${keyId}/longitude/${longitude}/latitude/${latitude}`, {\n            method: 'get'\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        return  await response.json()\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (query) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/keys/search/${query}`, {\n            method: 'get',\n            headers: {\n                authorization: `bearer ${this.__token__}`\n            }\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { key }  = await response.json()\n        \n        return key\n     })()\n}","import { validate } from 'the-keymaker-utils'\nconst REACT_APP_API_URL = process.env.REACT_APP_API_URL\n\nexport default function (query) {\n    // validate fields\n    return (async () => {\n        const response = await fetch(`${REACT_APP_API_URL}/deployments/search/${query}`, {\n            method: 'get',\n            headers: {\n                authorization: `bearer ${this.__token__}`\n            }\n        })\n\n        if (response.status !== 200) {\n            const { error } = await response.json()\n\n            throw Error(error)\n        }\n\n        const { deployment } = await response.json()\n\n        return deployment\n    })()\n}","import React from 'react'\n\nexport default function ({ onBack, onRegister }) {\n    return <div className=\"landing__list\">\n        <h2>Register</h2>\n        <form className=\"landing__form\" onSubmit={event => {\n            event.preventDefault()\n\n            const { target: { alias: { value: alias }, email: { value: email }, password: { value: password }, repassword: { value: repassword } } } = event\n\n            onRegister(alias, email, password, repassword)\n        }}>\n            <input type=\"text\" name=\"alias\" placeholder=\"name\" />\n            <input type=\"email\" name=\"email\" placeholder=\"email\" />\n            <input type=\"password\" name=\"password\" placeholder=\"password\" />\n            <input type=\"password\" name=\"repassword\" placeholder=\"repeat password\" />\n            <button><i class=\"fas fa-chevron-right\"></i> register</button>\n        </form>\n        <a href=\"#\" onClick={event => {\n            event.preventDefault()\n\n            onBack()\n        }}>Go back</a>\n    </div>\n}","import React from 'react'\n\nexport default function ({ onBack, onLogin }) {\n    return <div className=\"landing__list\">\n        <h2>Login</h2>\n        <form className=\"landing__form\" onSubmit={event => {\n            event.preventDefault()\n\n            const { target: { email: { value: email }, password: { value: password } } } = event\n\n            onLogin(email, password)\n        }}>\n            <input type=\"email\" name=\"email\" placeholder=\"email\" />\n            <input type=\"password\" name=\"password\" placeholder=\"password\"/>\n            <button><i class=\"fas fa-chevron-right\"></i> login</button>\n        </form>\n        <a href=\"#\" onClick={event => {\n            event.preventDefault()\n\n            onBack()\n        }}>Go back</a>\n    </div>\n}","import React from 'react'\n\nexport default function ({ onSearch }) {\n        const handleQuery = (event) => {\n                event.preventDefault()\n                const query = event.target.query.value\n                onSearch(query)\n        }\n\n        return <form onSubmit={handleQuery}>\n                <input type=\"text\" name=\"query\" placeholder=\"search\" />\n                <button><i class=\"fas fa-search\"></i></button>\n        </form>\n}","import React from 'react'\nimport { random } from 'the-keymaker-utils'\nimport moment from 'moment'\n\nexport default function ({ onDeployment }) {\n    let createdAt\n\n    if (onDeployment) {\n        createdAt = moment(onDeployment.created_at).format('HH:mm DD-MM-YYYY')\n    }\n\n    return <ul>\n        <li key={`${random.number(0, 99)}-${onDeployment.id}`} >{onDeployment.alias}</li>\n        <li key={`${random.number(0, 99)}-${onDeployment.id}`}><img src={onDeployment.logo} /></li>\n        <li key={`${random.number(0, 99)}-${onDeployment.id}`}>created at: {createdAt}</li>\n    </ul>\n}","import React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter, Link } from 'react-router-dom'\n\n// COMPONETS\nimport Search from '../Search'\nimport DeploymentView from '../DeploymentView'\n\nexport default withRouter(function ({ history }) {\n    const [deployments, setDeployments] = useState(undefined)\n    const [deploymentResults, setDeploymentResults] = useState(undefined)\n    const [view, setView] = useState('deployments')\n\n    useEffect(() => {\n        (async () => {\n            const deployments = await logic.retrieveDeployments()\n            deployments.length === 0 && {} || setDeployments(deployments)\n            const deploymentsArr = deployments.sort(function (a, b) {\n                return (b.created_at - a.created_at)\n            })\n            setDeployments(deploymentsArr)\n        })()\n    }, [])\n\n    const handleGoToRegisterDeployment = () => {\n        history.push('/deployments/register')\n    }\n\n    const handleViewDeploymentsAll = () => {\n        setView('deployments')\n        setDeploymentResults(undefined)\n    }\n\n    const handleSearchQuery = async (query) => {\n        try {\n            const deploymentResults = await logic.searchDeployments(query)\n            setDeploymentResults(deploymentResults)\n            setView('results')\n        } catch ({ message }) {\n            if (message === 'no results') setView('results')\n            console.error(message)\n        }\n    }\n\n    return <section className='deployments view'>\n        <div className='view__navigate navigate__search'>\n            <div className=\"navigate__item\">\n                <p>deployments: </p>\n                <button onClick={handleGoToRegisterDeployment}><i class=\"fas fa-plus\"></i> deployment</button>\n            </div>\n            <div className=\"navigate__item\">\n                <p>search deployment: </p>\n                <Search onSearch={handleSearchQuery} />\n                {view === 'results' && <button onClick={handleViewDeploymentsAll} ><i class=\"fas fa-plus\"></i> all</button>}\n            </div>\n        </div>\n        {view === 'results' && <h2>results:</h2>}\n        <div className=\"view__elements\">\n            {view === 'deployments' && <>\n                {deployments && deployments.map(deployment => {\n                    return <Link className=\"view__element\" key={deployment.id} to={`/deployments/detail/${deployment.id}`} >\n                        <DeploymentView onDeployment={deployment} />\n                    </Link>\n                }) || <p><i class=\"fas fa-comment-dots\"></i> there are no registered deployments</p>}\n            </>}\n\n            {view === 'results' && <>\n                {deploymentResults && deploymentResults.map(deployment => {\n                    return <Link className=\"view__element\" key={deployment.id} to={`/deployments/detail/${deployment.id}`} >\n                        <DeploymentView onDeployment={deployment} />\n                    </Link>\n                }) || <p><i class=\"fas fa-comment-dots\"></i> there are no results to search</p>}\n            </>}\n        </div>\n\n    </section>\n})","import React from 'react'\nimport { random } from 'the-keymaker-utils'\nimport moment from 'moment'\n\nexport default function ({ onDeployment }) {\n    let createdAt\n    if (onDeployment) {\n        createdAt = moment(onDeployment.created_at).format('HH:mm DD-MM-YYYY')\n    }\n\n    const { location: { longitude, latitude } } = onDeployment\n\n    return <div className=\"view__detail\">\n    <img className=\"view__image\" src={onDeployment.logo} />\n        <ul>\n            <li className=\"view__element\" key={`${random.number(0, 99)}-${onDeployment.id}`} >{onDeployment.alias}</li>\n            <li className=\"view__element\" key={`${random.number(0, 99)}-${onDeployment.id}`}>created at: {createdAt}</li>\n            <li className=\"view__element\" key={`${random.number(0, 99)}-${onDeployment.id}`}>address: {onDeployment.address}</li>\n            <li className=\"view__element\" key={`${random.number(0, 99)}-${onDeployment.id}`}>location:{longitude} (longitude), {latitude} (latitude)</li>\n        </ul>\n    </div>\n}","import React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter } from 'react-router-dom'\nimport { random } from 'the-keymaker-utils'\n\n// COMPONENTS\nimport DeploymentViewDetail from '../DeploymentViewDetail'\n\nexport default withRouter(function ({ history, id }) {\n    const [deployment, setDeployment] = useState(undefined)\n    \n    useEffect(() => {\n        (async () => {\n            const deployment = await logic.retrieveDeployment(id)\n            setDeployment(deployment)\n        })()\n    }, [])\n    \n    const handleGoToRegisterDeployment = () => {\n        history.push('/deployments/register')\n    }\n\n    const handleOnBack = () => history.go(-1)\n\n    return <section className='deployments view'>\n        <div className='view__navigate'>\n            <p>deployment detail  | </p> <button onClick={handleOnBack}> <i class=\"fas fa-chevron-left\"></i> on back</button> | <button onClick={handleGoToRegisterDeployment}> <i class=\"fas fa-plus\"></i> deployment</button>\n        </div>\n        {deployment && <DeploymentViewDetail onDeployment={deployment} />}\n    </section>\n})","import React, { useState } from 'react'\nimport logic from '../../logic'\nimport { withRouter } from 'react-router-dom'\n\nexport default withRouter(function ({ history }) {\n    const [valueSelect, setValueSelect] = useState(\"true\")\n    const [view, setView] = useState('form')\n    const [data, setData] = useState()\n\n    const handleSubmit = async (event) => {\n        event.preventDefault()\n        const { target: { logo: { files: [logo] }, name: { value: name }, address: { value: address } } } = event\n        const { getAddress, coordinates: { lat, lng } } = await logic.getLocation(address)\n        setData({ logo, name, getAddress, lng, lat })\n        setView('confirm')\n    }\n\n    const handleConfirm = () => {\n        const { logo, name, getAddress, lng, lat } = data\n        handleRegisterDeployment(logo, name, valueSelect, getAddress, lng, lat)\n    }\n\n    const handleReturn = () => {\n        setView('form')\n    }\n\n    const handleRegisterDeployment = async (logo, name, valueSelect, getAddress, longitude, latitude) => {\n        try {\n            const { message, deployment } = await logic.registerDeployment(name, getAddress, valueSelect, longitude, latitude)\n            console.log(message)\n            if (logo) {\n                const response = await logic.registerDeploymentImage(deployment.id, logo)\n                console.log(response)\n            }\n            history.push('/deployments')\n        } catch ({ message }) {\n            console.error(message)\n        }\n    }\n\n    const handleOnBack = () => history.go(-1)\n\n    return <section className=\"register-deployment\">\n        <div className='filter view__navigate'>\n            <p>deployment register | <button onClick={handleOnBack}> <i class=\"fas fa-chevron-left\"></i> on back</button></p>\n        </div>\n        {view === 'form' && <form className='register-deployment__form' method='post' onSubmit={handleSubmit} encType=\"multipart/form-data\">\n            <label>image:</label>\n            <input type=\"file\" name=\"logo\" ></input>\n            <label>name:</label>\n            <input type=\"text\" name=\"name\" placeholder=\"name\" required />\n            <label>location address:</label>\n            <input type=\"text\" name=\"address\" placeholder=\"address\" />\n            <select value={valueSelect} onChange={event => {\n                event.preventDefault()\n                const element = event.target.value\n                setValueSelect(element)\n            }}>\n                <option value=\"true\">active</option>\n                <option value=\"false\">inactive</option>\n            </select>\n            <button className=\"register__button\"><i class=\"fas fa-chevron-right\"></i> save</button>\n        </form>}\n        {view === 'confirm' && <section className=\"register-deployment__confirm\">\n            <p className=\"register-deployment__text\">confirm location:</p>\n            <p className=\"register-deployment__text\">{data.getAddress}</p>\n            <button className=\"register-deployment__button\" onClick={handleConfirm} >yes</button>\n            <button className=\"register-deployment__button\" onClick={handleReturn} >return</button>\n        </section>}\n    </section>\n})\n\n\n\n","import React from 'react'\nimport { random } from 'the-keymaker-utils'\nimport moment from 'moment'\n\nexport default function ({ onKey }) {\n    let validFrom\n    let validUntil\n\n    if (onKey) {\n        validFrom = moment(onKey.valid_from).format('HH:mm DD-MM-YYYY')\n        validUntil = moment(onKey.valid_until).format('HH:mm DD-MM-YYYY')\n    }\n\n    return <div className=\"view__list\">\n        <ul>\n            <li className='view__item' key={`${random.number(0, 99)}-${onKey.id}`}><i className=\"fas fa-key\"></i> {onKey.alias_guest}</li>\n            <li className='view__item' key={`${random.number(0, 99)}-${onKey.id}`}>{onKey.email_guest}</li>\n            <li className='view__item' key={`${random.number(0, 99)}-${onKey.id}`}>valid from: {validFrom}</li>\n            <li className='view__item' key={`${random.number(0, 99)}-${onKey.id}`}>valid until: {validUntil}</li>\n            <li className={`view__item`} key={`${random.number(0, 99)}-${onKey.id}`}>status: <span className={`keys__status--${onKey.status}`}>{onKey.status}</span></li>\n        </ul>\n    </div>\n}","import React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter, Link } from 'react-router-dom'\n\n// COMPONETS\nimport Search from '../Search'\nimport KeyView from '../KeyView'\n\nexport default withRouter(function ({ history }) {\n    const [keys, setKeys] = useState(undefined)\n    const [keyResults, setKeyResults] = useState(undefined)\n    const [view, setView] = useState('keys')\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const keys = await logic.retrieveKeys()\n                const keysArr = keys.sort(function (a, b) {\n                    return (b.created_at - a.created_at)\n                })\n                keys.length === 0 && {} || setKeys(keysArr)\n            } catch ({ message }) {\n                console.error(message)\n            }\n        })()\n    }, [])\n\n    const handleGoToRegisterKey = () => {\n        history.push('/deployments/keys/register')\n    }\n\n    const handleGoToCalendar = () => {\n        history.push('/deployments/keys/calendar')\n    }\n\n    const handleViewKeysAll = () => {\n        setKeyResults(undefined)\n        setView('keys')\n    }\n\n    const handleSearchQuery = async (query) => {\n        try {\n            const keyResults = await logic.searchKeys(query)\n            setKeyResults(keyResults)\n            setView('results')\n        } catch ({ message }) {\n            if (message === 'no results') setView('results')\n            console.error(message)\n        }\n    }\n\n    return <section className='keys view'>\n        <div className='view__navigate navigate__search'>\n            <div className=\"navigate__item\">\n                <p>keys:  </p>\n                <button onClick={handleGoToRegisterKey}><i class=\"fas fa-plus\"></i> key</button>\n                <button onClick={handleGoToCalendar}><i class=\"fas fa-chevron-left\"></i> calendar</button>\n            </div>\n            <div className=\"navigate__item\">\n                <p>search keys: </p>\n                <Search onSearch={handleSearchQuery} />\n                {view === 'results' && <button onClick={handleViewKeysAll} ><i class=\"fas fa-plus\"></i> all</button>}\n            </div>\n        </div>\n        {view === 'results' && <h2>results:</h2>}\n        <div className=\"view__elements\">\n            {view === 'keys' && <>\n                {keys && keys.map(key => {\n                    return <Link className=\"view__element\" key={key.id} to={`/deployments/keys/detail/${key.id}`} >\n                        <KeyView onKey={key} />\n                    </Link>\n                }) || <p><i class=\"fas fa-comment-dots\"></i> there are no registered keys</p>}\n            </>}\n\n            {view === 'results' && <>\n                {keyResults && keyResults.map(key => {\n                    return <Link className=\"view__element\" key={key.id} to={`/deployments/keys/detail/${key.id}`} >\n                        <KeyView onKey={key} />\n                    </Link>\n                }) || <p><i class=\"fas fa-comment-dots\"></i> there are no results to search</p>}\n            </>}\n        </div>\n\n    </section>\n})","import React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter } from 'react-router-dom'\n\n\n// COMPONENTS\nimport KeyView from '../KeyView'\n\nexport default withRouter(function ({ history, id }) {\n    const [key, setKey] = useState(undefined)\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const key = await logic.retrieveKey(id)\n                setKey(key)\n            } catch ({ message }) {\n                console.error(message)\n            }\n        })()\n    }, [])\n\n    const handleGoToRegisterKey = () => {\n        history.push('/deployments/keys/register')\n    }\n\n    const handleOnBack = () => history.go(-1)\n\n    return <section className='key view'>\n        <section className='view__navigate'>\n            <p> detail key |  <button onClick={handleOnBack}> <i className=\"fas fa-chevron-left\"></i> on back</button> | {key && <button onClick={event => {\n                event.preventDefault()\n\n                history.push(`/deployments/detail/${key.deployment}`)\n            }}> <i className=\"fas fa-chevron-left\"></i> go deployment</button>} <button onClick={handleGoToRegisterKey}> <i className=\"fas fa-plus\"></i> key</button></p>\n        </section>\n        {key && <section className=\"key__detail\"> <KeyView onKey={key} />\n        </section>}\n    </section>\n})","import React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter } from 'react-router-dom'\nimport moment from 'moment'\n\n\nexport default withRouter(function ({ onDate, history }) {\n    const [view, setView] = useState('register')\n    const [deployments, setDeployments] = useState(undefined)\n    const [valueSelect, setValueSelect] = useState(undefined)\n    const [getDate, setGetDate] = useState(undefined)\n    const [getDate2, setGetDate2] = useState(undefined)\n    const [getHour, setGetHour] = useState(undefined)\n    const [getHour2, setGetHour2] = useState(undefined)\n\n    useEffect(() => {\n        (async () => {\n            const deployments = await logic.retrieveDeployments()\n            setDeployments(deployments)\n            if (deployments.length) {\n                setValueSelect(deployments[0].id)\n                setView('register')\n                if (moment(onDate).diff(moment(new Date), 'days') < 0) setView('error date')\n            } else {\n                setView('error')\n            }\n        })()\n    }, [history.location])\n\n    function handleSubmit(event) {\n        event.preventDefault()\n\n        const { target: { validFromDate: { value: validFromDate }, validFromTime: { value: validFromTime }, validUntilDate: { value: validUntilDate }, validUntilTime: { value: validUntilTime }, alias: { value: alias }, email: { value: email } } } = event\n        debugger\n        const validFrom = new Date(`${validFromDate} ${validFromTime}`)\n        const validUntil = new Date(`${validUntilDate} ${validUntilTime}`)\n\n        handleRegisterKey(validFrom, validUntil, alias, email, valueSelect)\n    }\n\n    const handleRegisterKey = async (validFrom, validUntil, alias, email, valueSelect) => {\n        try {\n            const { message } = await logic.registerKey(validFrom, validUntil, alias, email, valueSelect)\n            console.log(message)\n            history.push('/deployments/keys')\n        } catch ({ message }) {\n            console.error(message)\n        }\n    }\n\n    const handleHours = () => {\n        return moment(getHour, \"hh:mm A\").add(1, 'hours').format('HH:mm')\n    }\n\n    const handleGoToRegisterDeployment = () => {\n        history.push('/deployments/register')\n    }\n\n    const handleOnBack = () => history.go(-1)\n\n    return <>\n        {view === 'register' && <section className=\"register-key\">\n            <div className='view__navigate'>\n                <p>key register | <button onClick={handleOnBack}> <i class=\"fas fa-chevron-left\"></i> on back</button></p>\n            </div>\n            <section>\n                <form className=\"register-key__form\" onSubmit={handleSubmit}>\n                    <label>valid from:</label>\n                    <input type=\"date\" name=\"validFromDate\" value={onDate} onChange={event => {\n                        event.preventDefault()\n                        setGetDate(event.target.value)\n                    }} required />\n                    <input type=\"time\" name=\"validFromTime\" onChange={event => {\n                        event.preventDefault()\n                        setGetHour(event.target.value)\n                    }} required />\n                    <label>valid until:</label>\n                    <input type=\"date\" name=\"validUntilDate\" value={onDate || getDate2 || getDate} onChange={event => {\n                        event.preventDefault()\n                        setGetDate2(event.target.value)\n                    }} required />\n                    <input type=\"time\" name=\"validUntilTime\" value={getHour2 || handleHours()} onChange={event => {\n                        event.preventDefault()\n                        setGetHour2(event.target.value)\n                    }} required />\n                    <label>guest:</label>\n                    <input type=\"text\" name=\"alias\" placeholder=\"name\" required />\n                    <input type=\"email\" name=\"email\" placeholder=\"email\" required />\n                    <label>deployment:</label>\n                    {deployments && <select onChange={event => {\n                        event.preventDefault()\n                        event.target.value ? setValueSelect(event.target.value) : setValueSelect(deployments[0].id)\n                    }}>\n                        {deployments.map(deployment => {\n                            return <option value={deployment.id}>{deployment.alias}</option>\n                        }\n                        )}\n                    </select> || <p>there are no deployments</p>}\n                    <button className=\"register__button\"><i class=\"fas fa-chevron-right\"></i> save</button>\n                </form>\n            </section>\n        </section>}\n        {view === 'error' && <section>\n            <p>in order generate keys, first create deployments</p>\n            <button onClick={handleGoToRegisterDeployment} ><i class=\"fas fa-plus\"></i> deployments</button>\n        </section>}\n        {view === 'error date' && <section>\n            <p>you have chosen a date before the current one. try again</p>\n            <button onClick={handleOnBack} ><i class=\"fas fa-chevron-right\"></i> return</button>\n        </section>}\n    </>\n})","import React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter, Link } from 'react-router-dom'\nimport moment from \"moment\"\n\nexport default withRouter(function ({ onEvent, history }) {\n    // STATES\n    const [currentDate, setCurrentDate] = useState(moment())\n    const [monthKeys, setMonthKeys] = useState([])\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const keys = await logic.retrieveKeys()\n\n                const monthKeys = keys.filter(task => moment(currentDate).isSame(keys.valid_from, 'month'))\n                setMonthKeys(monthKeys)\n            } catch ({ message }) {\n                console.error(message)\n            }\n        })()\n    }, [])\n\n    // HANDLES\n    const handleGoToRegisterKey = () => {\n        history.push('/deployments/keys/register')\n    }\n\n    const handleGoToRegisterDeployment = () => {\n        history.push('/deployments/register')\n    }\n\n    function handleGoToNextMonth(event) {\n        event.preventDefault()\n        setCurrentDate(moment(currentDate).add(1, 'months'))\n    }\n    function handleGoToPreviousMonth(event) {\n        event.preventDefault()\n\n        setCurrentDate(moment(currentDate).subtract(1, 'months'))\n    }\n\n    function handleDayKeys(dataDate) {\n        return monthKeys.map(key => {\n            let keyDay = moment(key.valid_from).format('YYYY MMMM D')\n            let currentDay = moment(dataDate).format('YYYY MMMM D')\n            const dateFormat =  moment(key.valid_from).format('HH:mm')\n            if (keyDay === currentDay) {\n                return <div className=\"calendar__key\" onClick={event => {\n                    event.preventDefault()\n                    event.stopPropagation()\n\n                    history.push(`/deployments/keys/detail/${key.id}`)\n                }}><i class=\"fas fa-key\"></i> {key.alias_guest} \n                <br /><i class=\"fas fa-home\"></i> {key.deployment.alias} <br />(<i class=\"fas fa-calendar-check\"></i> {dateFormat}) </div>\n            }\n        })\n    }\n\n    // RENDERS\n    const header = () => {\n        return (\n            <>\n                <h2>calendar</h2>\n                <i class=\"fas fa-caret-left\" onClick={handleGoToPreviousMonth}></i> <h3 class=\"month__title\"> {moment(currentDate).format(\"MMMM\")} </h3> <i class=\"fas fa-caret-right\" onClick={handleGoToNextMonth}></i>\n                <p class=\"month__year\">{moment(currentDate).format(\"YYYY\")}</p>\n                <button onClick={handleGoToRegisterKey}><i class=\"fas fa-plus\"></i> key</button>\n                <button onClick={handleGoToRegisterDeployment}><i class=\"fas fa-plus\"></i> deployment</button>\n            </>\n        )\n    }\n\n    const week = () => {\n        const days = []\n        const startDate = moment(currentDate).startOf('week')\n\n        for (let i = 0; i < 7; i++) {\n            days.push(\n                <div>\n                    {startDate.add(1, 'days').format('ddd')}\n                </div>\n            )\n        }\n        return <div class=\"calendar__header\">{days}</div>\n    }\n\n    const days = () => {\n        const monthStart = moment(currentDate).startOf('month'),\n            monthEnd = moment(currentDate).endOf('month'),\n            endDate = moment(monthEnd).endOf('week'),\n            rows = []\n\n        let days = []\n        let formattedDate = ''\n        let eventDate = ''\n        let first = monthStart\n        switch (first.day()) {\n            case 1:\n                first.add(7, 'days')\n                break\n            case 2:\n                first.add(6, 'days')\n                break\n            case 3:\n                first.add(5, 'days')\n                break\n            case 4:\n                first.add(4, 'days')\n                break\n            case 5:\n                first.add(3, 'days')\n                break\n            case 6:\n                first.add(2, 'days')\n                break\n            case 0:\n                first.add(1, 'days')\n        }\n\n        if (monthStart.day() !== '1') {\n            first = moment(first).subtract(1, 'week')\n            while (first <= moment(first).endOf('week').day()) {\n                for (let i = 0; i < 7; i++) {\n                    formattedDate = first.format('D')\n                    eventDate = first.format(\"YYYY-MM-DD\")\n                    const dataDate = first.format()\n                    days.push(\n                        <a onClick={onEvent} data-day={eventDate} className={!moment(currentDate).isSame(dataDate, 'month')\n                        ? 'calendar__disabled' \n                        : moment().isSame(dataDate, 'day')\n                            ? 'calendar__selected'\n                            : 'calendar__day day'} >\n                            {formattedDate}\n                            {monthKeys && <div>{handleDayKeys(dataDate)}</div>}\n                        </a>\n                    )\n                    first = first.add(1, 'days')\n                }\n            }\n        }\n\n        while (first <= endDate) {\n            for (let i = 0; i < 7; i++) {\n                formattedDate = first.format('D')\n                eventDate = first.format(\"YYYY-MM-DD\")\n                const dataDate = first.format()\n                days.push(\n                    <a onClick={onEvent} data-day={eventDate} className={!moment(currentDate).isSame(dataDate, 'month')\n                        ? 'calendar__disabled' \n                        : moment().isSame(dataDate, 'day')\n                            ? 'calendar__selected'\n                            : 'calendar__day day'}>\n                        {formattedDate}\n                        {monthKeys && <Link>{handleDayKeys(dataDate)}</Link>}\n                    </a>\n                )\n                first = first.add(1, 'days')\n            }\n            rows.push(<div class=\"calendar__week\"> {days} </div>)\n            days = []\n        }\n        return <div>{rows}</div>\n    }\n\n    return <section className=\"calendar\">\n        <div className=\"calendar__header\">{header()}</div>\n        <div>{week()}{days()}</div>\n    </section>\n})","import React, { useState, useEffect } from 'react'\nimport { Link } from 'react-router-dom'\nimport logic from '../../logic'\nimport './index.sass'\n\nexport default function ({ goOnLogout }) {\n    const [user, setUser] = useState(undefined)\n\n    useEffect(() => {\n        (async () => {\n            const user = await logic.retrieveUser()\n\n            setUser(user)\n        })()\n    }, [])\n\n    return <header className=\"header header__home\">\n        <Link to=\"/deployments\"><h1 className=\"header__logo\">the keymaker</h1></Link>\n\n        <nav className=\"menu\">\n            <ul>\n                <li className=\"menu__button\"><Link to=\"/deployments\"><i className=\"fas fa-home\"></i></Link></li>\n                <li className=\"menu__button\"><Link  to=\"/deployments/keys\"><i className=\"fas fa-key\"></i></Link></li>\n                <li className=\"menu__button\"><Link to=\"/deployments/keys/calendar\"><i className=\"fas fa-calendar-times\"></i></Link></li>\n                <li className=\"menu__image\">{user && <img src={user.logo} />}</li>\n                <li className=\"menu__button\"><a  href=\"\" onClick={goOnLogout}><i className=\"fas fa-sign-out-alt\"></i></a></li>\n            </ul>\n        </nav>\n    </header>\n}","import './index.sass'\nimport React, { useState, useEffect } from 'react'\nimport { Route, withRouter } from 'react-router-dom'\nimport logic from '../../logic'\n\n// COMPONENTS\nimport Deployments from '../Deployments'\nimport DeploymentDetail from '../DeploymentDetail'\nimport DeploymentRegister from '../DeploymentRegister'\nimport KeysAll from '../KeysAll'\nimport KeyDetail from '../KeyDetail'\nimport KeyRegister from '../KeyRegister'\nimport KeysCalendar from '../KeysCalendar'\nimport Header from '../Header'\n\nexport default withRouter(function ({ history }) {\n    const [event, setEvent] = useState(undefined)\n    const [keys, setKeys] = useState(undefined)\n    const [view, setView] = useState('home')\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const keys = await logic.retrieveKeys()\n                setKeys(keys)\n                setView('home')\n            } catch ({ message }) {\n                console.error(message)\n            }\n        })()\n    }, [history.location])\n\n    const handleEvent = (event) => {\n        event.preventDefault()\n        setEvent(event.target.dataset.day)\n        history.push('/deployments/keys/register')\n    }\n\n    const handleLogout = () => {\n        logic.logUserOut()\n        history.push('/')\n    }\n\n\n    return <>\n        <Header className=\"home-header\" goOnLogout={handleLogout} />\n        <main className=\"home-main\">\n            <Route exact path=\"/deployments\" render={() => <Deployments />} />\n            <Route path=\"/deployments/detail/:id\" render={props => <DeploymentDetail id={props.match.params.id} />} />\n            <Route path=\"/deployments/register\" render={() => <DeploymentRegister />} />\n            <Route exact path=\"/deployments/keys\" render={() => <KeysAll />} />\n            <Route path=\"/deployments/keys/detail/:id\" render={props => <KeyDetail id={props.match.params.id} />} />\n            <Route path=\"/deployments/keys/register\" render={() => <KeyRegister onDate={event} />} />\n            <Route path=\"/deployments/keys/calendar\" render={() => keys && <KeysCalendar onEvent={handleEvent} />} />\n        </main>\n        <footer className=\"home-footer\">\n            <p><i className=\"fas fa-rocket\"></i> made by jose ortuño</p>\n        </footer>\n    </>\n})","import './index.sass'\nimport React, { useState, useEffect } from 'react'\nimport logic from '../../logic'\nimport { withRouter } from 'react-router-dom'\nimport moment from 'moment'\n\nexport default withRouter(function ({ match: { params: { id } } }) {\n    const [key, setKey] = useState(undefined)\n    const [validFrom, setValidFrom] = useState(undefined)\n    const [validUntil, setValidUntil] = useState(undefined)\n    const [deployment, setDeployment] = useState(undefined)\n    const [view, setView] = useState('waiting')\n\n    useEffect(() => {\n        (async () => {\n            try {\n                const key = await logic.retrieveKey(id)\n                setValidFrom(moment(key.valid_from).format('DD-MM-YYYY HH:mm'))\n                setValidUntil(moment(key.valid_until).format('DD-MM-YYYY HH:mm'))\n                setKey(key)\n                const deployment = await logic.retrieveDeployment(key.deployment)\n                setDeployment(deployment)\n            } catch ({ message }) {\n                console.error(message)\n            }\n        })()\n    }, [])\n\n    const handleLocation = (event) => {\n        event.preventDefault()\n        let latitude, longitude\n        navigator.geolocation.getCurrentPosition(function (position) {\n            latitude = position.coords.latitude\n            longitude = position.coords.longitude\n            return handleUseKey(longitude, latitude)\n        })\n    }\n\n    const handleUseKey = async (longitude, latitude) => {\n        try {\n            const { deployment } = await logic.useKey(id, longitude, latitude)\n            if (deployment.status === 'close') setView('close')\n            if (deployment.status === 'open') setView('open')\n            console.log(deployment.status)\n        } catch ({ message }) {\n            if (message === 'jwt expired') setView('expiry')\n            if (message === 'jwt not active') setView('not activated')\n            if (message === `operation not allowed: the state of the key is ${key.status}`) setView('visited')\n            console.error(message)\n        }\n    }\n\n    return <div className=\"access\">\n        {deployment && <>\n            <header className=\"access__header\">\n                <h1>the keymaker</h1>\n            </header>\n            <main className=\"access__main\">\n                <div className=\"access__title\">\n                    <h2>Access to {deployment.alias}</h2>\n                </div>\n                <img className=\"access__image\" src={deployment.logo} />\n                <section className=\"access__status\">\n                    {view === 'waiting' && <button className=\"access__button\" onClick={handleLocation}><i class=\"fas fa-chevron-right\"></i>ACCESS</button>}\n\n                    {view === 'open' && <><i className=\"fas fa-lock-open\"></i><p>open the door</p></>}\n                    {view === 'close' && <><i className=\"fas fa-lock\"></i><p>door closed</p></>}\n                    {view === 'visited' && <><i class=\"far fa-meh-rolling-eyes\"></i><p>visited property</p></>}\n                    {view === 'expiry' && <><i className=\"fas fa-sad-tear\"></i><p>expired key</p></>}\n                    {view === 'not activated' && <><i className=\"fas fa-clock\"></i><p>key not activated</p></>}\n                </section>\n                <section className=\"access__info\">\n                    <h2><i class=\"fas fa-door-open\"></i> info</h2>\n                    <p>address: {deployment.address}</p>\n                    <p>valid from: {validFrom}H</p>\n                    <p>valid until: {validUntil}H</p>\n                    <p>status: <span className={`keys__status--${key.status}`}>{key.status}</span></p>\n                </section>\n            </main>\n        </>}\n    </div>\n})\n","import './index.sass'\nimport React, { useState } from 'react'\nimport logic from '../../logic'\nimport { Route, withRouter } from 'react-router-dom'\n\n// COMPONENTS\nimport Register from '../Register'\nimport Login from '../Login'\nimport Home from '../Home'\nimport AccessDeployment from '../AccessDeployment'\n\nexport default withRouter(function ({ history }) {\n  const [view, setView] = useState('landing')\n\n  const handleBack = () => history.push('/')\n\n  const handleRegister = async (alias, email, password, repassword) => {\n    try {\n      await logic.registerUser(alias, email, password, repassword)\n\n      history.push('/login')\n    } catch ({ message }) {\n      console.log('fail register', message)\n    }\n  }\n\n  const handleLogin = async (email, password) => {\n    try {\n      await logic.authenticateUser(email, password)\n      setView('home')\n      history.push('/deployments')\n    } catch ({ message }) {\n      console.log('fail login', message)\n    }\n  }\n\n  const handleGoToRegister = event => {\n    event.preventDefault()\n    history.push('/register')\n  }\n\n  const handleGoToLogin = event => {\n    event.preventDefault()\n    history.push('/login')\n  }\n\n\n  const handleLogout = () => {\n    logic.logUserOut()\n    history.push('/')\n  }\n\n  return <>\n    <Route path=\"/access/:id\" render={props => <AccessDeployment />} />\n    <div className=\"container\">\n\n      <section className=\"landing\">\n\n        <Route exact path=\"/\" render={() => !logic.isUserLogged() ? < >\n          <h1 className=\"landing__title\">the keymaker</h1>\n\n          <section className=\"landing__sion\">\n            <img className=\"landing__image\" src=\"https://res.cloudinary.com/dgsndtxtl/image/upload/v1568838146/logo-small_vcfw3z.png\" />\n            <p className=\"landing__text\">\"you can save zion if you get to the source. for this you will need the Keymaker.\" the oracle - the matrix reloaded</p>\n\n          </section>\n          <ul className=\"landing__list\">\n            <li className=\"landing__item\"><a href=\"\" onClick={handleGoToRegister}><i class=\"fas fa-chevron-right\"></i> Register</a></li>\n            <li className=\"landing__item\"><a href=\"\" onClick={handleGoToLogin}><i class=\"fas fa-chevron-right\"></i> Login</a></li>\n          </ul>\n        </> : history.push('/deployments')} />\n\n\n        <Route path=\"/register\" render={() => <>\n          <h1 className=\"landing__title\">the keymaker</h1>\n          <section className=\"landing__sion\">\n            <img className=\"landing__image\" src=\"https://res.cloudinary.com/dgsndtxtl/image/upload/v1568838146/logo-small_vcfw3z.png\" />\n            <p className=\"landing__text\">\"you can save zion if you get to the source. for this you will need the Keymaker.\" the oracle - the matrix reloaded</p>\n          </section>\n          <Register onBack={handleBack} onRegister={handleRegister} />\n        </>} />\n\n        <Route path=\"/login\" render={() => <>\n          <h1 className=\"landing__title\">the keymaker</h1>\n          <section className=\"landing__sion\">\n            <img className=\"landing__image\" src=\"https://res.cloudinary.com/dgsndtxtl/image/upload/v1568838146/logo-small_vcfw3z.png\" />\n            <p className=\"landing__text\">\"you can save zion if you get to the source. for this you will need the Keymaker.\" the oracle - the matrix reloaded</p>\n          </section>\n          <Login onBack={handleBack} onLogin={handleLogin} />\n        </>} />\n\n      </section>\n\n      <Route path=\"/deployments\" render={() => logic.isUserLogged() ? <Home onBack={handleBack} onLogout={handleLogout} /> : history.push('/')} />\n    </div>\n  </>\n})\n","// This optional code is used to register a service worker.\n// register() is not called by default.\n\n// This lets the app load faster on subsequent visits in production, and gives\n// it offline capabilities. However, it also means that developers (and users)\n// will only see deployed updates on subsequent visits to a page, after all the\n// existing tabs open on the page have been closed, since previously cached\n// resources are updated in the background.\n\n// To learn more about the benefits of this model and instructions on how to\n// opt-in, read https://bit.ly/CRA-PWA\n\nconst isLocalhost = Boolean(\n  window.location.hostname === 'localhost' ||\n    // [::1] is the IPv6 localhost address.\n    window.location.hostname === '[::1]' ||\n    // 127.0.0.1/8 is considered localhost for IPv4.\n    window.location.hostname.match(\n      /^127(?:\\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/\n    )\n);\n\nexport function register(config) {\n  if (process.env.NODE_ENV === 'production' && 'serviceWorker' in navigator) {\n    // The URL constructor is available in all browsers that support SW.\n    const publicUrl = new URL(process.env.PUBLIC_URL, window.location.href);\n    if (publicUrl.origin !== window.location.origin) {\n      // Our service worker won't work if PUBLIC_URL is on a different origin\n      // from what our page is served on. This might happen if a CDN is used to\n      // serve assets; see https://github.com/facebook/create-react-app/issues/2374\n      return;\n    }\n\n    window.addEventListener('load', () => {\n      const swUrl = `${process.env.PUBLIC_URL}/service-worker.js`;\n\n      if (isLocalhost) {\n        // This is running on localhost. Let's check if a service worker still exists or not.\n        checkValidServiceWorker(swUrl, config);\n\n        // Add some additional logging to localhost, pointing developers to the\n        // service worker/PWA documentation.\n        navigator.serviceWorker.ready.then(() => {\n          console.log(\n            'This web app is being served cache-first by a service ' +\n              'worker. To learn more, visit https://bit.ly/CRA-PWA'\n          );\n        });\n      } else {\n        // Is not localhost. Just register service worker\n        registerValidSW(swUrl, config);\n      }\n    });\n  }\n}\n\nfunction registerValidSW(swUrl, config) {\n  navigator.serviceWorker\n    .register(swUrl)\n    .then(registration => {\n      registration.onupdatefound = () => {\n        const installingWorker = registration.installing;\n        if (installingWorker == null) {\n          return;\n        }\n        installingWorker.onstatechange = () => {\n          if (installingWorker.state === 'installed') {\n            if (navigator.serviceWorker.controller) {\n              // At this point, the updated precached content has been fetched,\n              // but the previous service worker will still serve the older\n              // content until all client tabs are closed.\n              console.log(\n                'New content is available and will be used when all ' +\n                  'tabs for this page are closed. See https://bit.ly/CRA-PWA.'\n              );\n\n              // Execute callback\n              if (config && config.onUpdate) {\n                config.onUpdate(registration);\n              }\n            } else {\n              // At this point, everything has been precached.\n              // It's the perfect time to display a\n              // \"Content is cached for offline use.\" message.\n              console.log('Content is cached for offline use.');\n\n              // Execute callback\n              if (config && config.onSuccess) {\n                config.onSuccess(registration);\n              }\n            }\n          }\n        };\n      };\n    })\n    .catch(error => {\n      console.error('Error during service worker registration:', error);\n    });\n}\n\nfunction checkValidServiceWorker(swUrl, config) {\n  // Check if the service worker can be found. If it can't reload the page.\n  fetch(swUrl)\n    .then(response => {\n      // Ensure service worker exists, and that we really are getting a JS file.\n      const contentType = response.headers.get('content-type');\n      if (\n        response.status === 404 ||\n        (contentType != null && contentType.indexOf('javascript') === -1)\n      ) {\n        // No service worker found. Probably a different app. Reload the page.\n        navigator.serviceWorker.ready.then(registration => {\n          registration.unregister().then(() => {\n            window.location.reload();\n          });\n        });\n      } else {\n        // Service worker found. Proceed as normal.\n        registerValidSW(swUrl, config);\n      }\n    })\n    .catch(() => {\n      console.log(\n        'No internet connection found. App is running in offline mode.'\n      );\n    });\n}\n\nexport function unregister() {\n  if ('serviceWorker' in navigator) {\n    navigator.serviceWorker.ready.then(registration => {\n      registration.unregister();\n    });\n  }\n}\n","import React from 'react'\nimport ReactDOM from 'react-dom'\nimport App from './components/App'\nimport * as serviceWorker from './serviceWorker'\nimport { HashRouter } from 'react-router-dom'\nReactDOM.render(<HashRouter><App /></HashRouter>, document.getElementById('root'))\n// If you want your app to work offline and load faster, you can change\n// unregister() to register() below. Note this comes with some pitfalls.\n// Learn more about service workers: https://bit.ly/CRA-PWA\nserviceWorker.unregister()"],"sourceRoot":""}